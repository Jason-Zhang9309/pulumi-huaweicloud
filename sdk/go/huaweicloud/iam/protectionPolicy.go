// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package iam

import (
	"context"
	"reflect"

	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// ## Example Usage
// ### Self-Verification
//
// ```go
// package main
//
// import (
//
//	"github.com/huaweicloud/pulumi-huaweicloud/sdk/go/huaweicloud/Iam"
//	"github.com/pulumi/pulumi-huaweicloud/sdk/go/huaweicloud/Iam"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := Iam.NewProtectionPolicy(ctx, "test", &Iam.ProtectionPolicyArgs{
//				ProtectionEnabled: pulumi.Bool(true),
//				SelfManagement: &iam.ProtectionPolicySelfManagementArgs{
//					AccessKey: pulumi.Bool(true),
//					Email:     pulumi.Bool(false),
//					Mobile:    pulumi.Bool(false),
//					Password:  pulumi.Bool(true),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
// ### Verification by another person
//
// ```go
// package main
//
// import (
//
//	"github.com/huaweicloud/pulumi-huaweicloud/sdk/go/huaweicloud/Iam"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := Iam.NewProtectionPolicy(ctx, "verification", &Iam.ProtectionPolicyArgs{
//				ProtectionEnabled: pulumi.Bool(true),
//				VerificationEmail: pulumi.String("example@email.com"),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// Identity protection policy can be imported using the account ID or domain ID, e.g. bash
//
// ```sh
//
//	$ pulumi import huaweicloud:Iam/protectionPolicy:ProtectionPolicy example <your account ID>
//
// ```
type ProtectionPolicy struct {
	pulumi.CustomResourceState

	// Specifies whether to enable operation protection.
	ProtectionEnabled pulumi.BoolOutput `pulumi:"protectionEnabled"`
	// Specifies the attributes IAM users can modify.
	// The object structure is documented below.
	SelfManagement ProtectionPolicySelfManagementOutput `pulumi:"selfManagement"`
	// Indicates whether the IAM users perform verification by themselves.
	SelfVerification pulumi.BoolOutput `pulumi:"selfVerification"`
	// Specifies the email address used for verification. An example value is `example@email.com`.
	VerificationEmail pulumi.StringPtrOutput `pulumi:"verificationEmail"`
	// Specifies the mobile number used for verification. An example value is *0086-123456789*.
	VerificationMobile pulumi.StringPtrOutput `pulumi:"verificationMobile"`
}

// NewProtectionPolicy registers a new resource with the given unique name, arguments, and options.
func NewProtectionPolicy(ctx *pulumi.Context,
	name string, args *ProtectionPolicyArgs, opts ...pulumi.ResourceOption) (*ProtectionPolicy, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.ProtectionEnabled == nil {
		return nil, errors.New("invalid value for required argument 'ProtectionEnabled'")
	}
	opts = pkgResourceDefaultOpts(opts)
	var resource ProtectionPolicy
	err := ctx.RegisterResource("huaweicloud:Iam/protectionPolicy:ProtectionPolicy", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetProtectionPolicy gets an existing ProtectionPolicy resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetProtectionPolicy(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *ProtectionPolicyState, opts ...pulumi.ResourceOption) (*ProtectionPolicy, error) {
	var resource ProtectionPolicy
	err := ctx.ReadResource("huaweicloud:Iam/protectionPolicy:ProtectionPolicy", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering ProtectionPolicy resources.
type protectionPolicyState struct {
	// Specifies whether to enable operation protection.
	ProtectionEnabled *bool `pulumi:"protectionEnabled"`
	// Specifies the attributes IAM users can modify.
	// The object structure is documented below.
	SelfManagement *ProtectionPolicySelfManagement `pulumi:"selfManagement"`
	// Indicates whether the IAM users perform verification by themselves.
	SelfVerification *bool `pulumi:"selfVerification"`
	// Specifies the email address used for verification. An example value is `example@email.com`.
	VerificationEmail *string `pulumi:"verificationEmail"`
	// Specifies the mobile number used for verification. An example value is *0086-123456789*.
	VerificationMobile *string `pulumi:"verificationMobile"`
}

type ProtectionPolicyState struct {
	// Specifies whether to enable operation protection.
	ProtectionEnabled pulumi.BoolPtrInput
	// Specifies the attributes IAM users can modify.
	// The object structure is documented below.
	SelfManagement ProtectionPolicySelfManagementPtrInput
	// Indicates whether the IAM users perform verification by themselves.
	SelfVerification pulumi.BoolPtrInput
	// Specifies the email address used for verification. An example value is `example@email.com`.
	VerificationEmail pulumi.StringPtrInput
	// Specifies the mobile number used for verification. An example value is *0086-123456789*.
	VerificationMobile pulumi.StringPtrInput
}

func (ProtectionPolicyState) ElementType() reflect.Type {
	return reflect.TypeOf((*protectionPolicyState)(nil)).Elem()
}

type protectionPolicyArgs struct {
	// Specifies whether to enable operation protection.
	ProtectionEnabled bool `pulumi:"protectionEnabled"`
	// Specifies the attributes IAM users can modify.
	// The object structure is documented below.
	SelfManagement *ProtectionPolicySelfManagement `pulumi:"selfManagement"`
	// Specifies the email address used for verification. An example value is `example@email.com`.
	VerificationEmail *string `pulumi:"verificationEmail"`
	// Specifies the mobile number used for verification. An example value is *0086-123456789*.
	VerificationMobile *string `pulumi:"verificationMobile"`
}

// The set of arguments for constructing a ProtectionPolicy resource.
type ProtectionPolicyArgs struct {
	// Specifies whether to enable operation protection.
	ProtectionEnabled pulumi.BoolInput
	// Specifies the attributes IAM users can modify.
	// The object structure is documented below.
	SelfManagement ProtectionPolicySelfManagementPtrInput
	// Specifies the email address used for verification. An example value is `example@email.com`.
	VerificationEmail pulumi.StringPtrInput
	// Specifies the mobile number used for verification. An example value is *0086-123456789*.
	VerificationMobile pulumi.StringPtrInput
}

func (ProtectionPolicyArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*protectionPolicyArgs)(nil)).Elem()
}

type ProtectionPolicyInput interface {
	pulumi.Input

	ToProtectionPolicyOutput() ProtectionPolicyOutput
	ToProtectionPolicyOutputWithContext(ctx context.Context) ProtectionPolicyOutput
}

func (*ProtectionPolicy) ElementType() reflect.Type {
	return reflect.TypeOf((**ProtectionPolicy)(nil)).Elem()
}

func (i *ProtectionPolicy) ToProtectionPolicyOutput() ProtectionPolicyOutput {
	return i.ToProtectionPolicyOutputWithContext(context.Background())
}

func (i *ProtectionPolicy) ToProtectionPolicyOutputWithContext(ctx context.Context) ProtectionPolicyOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ProtectionPolicyOutput)
}

// ProtectionPolicyArrayInput is an input type that accepts ProtectionPolicyArray and ProtectionPolicyArrayOutput values.
// You can construct a concrete instance of `ProtectionPolicyArrayInput` via:
//
//	ProtectionPolicyArray{ ProtectionPolicyArgs{...} }
type ProtectionPolicyArrayInput interface {
	pulumi.Input

	ToProtectionPolicyArrayOutput() ProtectionPolicyArrayOutput
	ToProtectionPolicyArrayOutputWithContext(context.Context) ProtectionPolicyArrayOutput
}

type ProtectionPolicyArray []ProtectionPolicyInput

func (ProtectionPolicyArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ProtectionPolicy)(nil)).Elem()
}

func (i ProtectionPolicyArray) ToProtectionPolicyArrayOutput() ProtectionPolicyArrayOutput {
	return i.ToProtectionPolicyArrayOutputWithContext(context.Background())
}

func (i ProtectionPolicyArray) ToProtectionPolicyArrayOutputWithContext(ctx context.Context) ProtectionPolicyArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ProtectionPolicyArrayOutput)
}

// ProtectionPolicyMapInput is an input type that accepts ProtectionPolicyMap and ProtectionPolicyMapOutput values.
// You can construct a concrete instance of `ProtectionPolicyMapInput` via:
//
//	ProtectionPolicyMap{ "key": ProtectionPolicyArgs{...} }
type ProtectionPolicyMapInput interface {
	pulumi.Input

	ToProtectionPolicyMapOutput() ProtectionPolicyMapOutput
	ToProtectionPolicyMapOutputWithContext(context.Context) ProtectionPolicyMapOutput
}

type ProtectionPolicyMap map[string]ProtectionPolicyInput

func (ProtectionPolicyMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ProtectionPolicy)(nil)).Elem()
}

func (i ProtectionPolicyMap) ToProtectionPolicyMapOutput() ProtectionPolicyMapOutput {
	return i.ToProtectionPolicyMapOutputWithContext(context.Background())
}

func (i ProtectionPolicyMap) ToProtectionPolicyMapOutputWithContext(ctx context.Context) ProtectionPolicyMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ProtectionPolicyMapOutput)
}

type ProtectionPolicyOutput struct{ *pulumi.OutputState }

func (ProtectionPolicyOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**ProtectionPolicy)(nil)).Elem()
}

func (o ProtectionPolicyOutput) ToProtectionPolicyOutput() ProtectionPolicyOutput {
	return o
}

func (o ProtectionPolicyOutput) ToProtectionPolicyOutputWithContext(ctx context.Context) ProtectionPolicyOutput {
	return o
}

// Specifies whether to enable operation protection.
func (o ProtectionPolicyOutput) ProtectionEnabled() pulumi.BoolOutput {
	return o.ApplyT(func(v *ProtectionPolicy) pulumi.BoolOutput { return v.ProtectionEnabled }).(pulumi.BoolOutput)
}

// Specifies the attributes IAM users can modify.
// The object structure is documented below.
func (o ProtectionPolicyOutput) SelfManagement() ProtectionPolicySelfManagementOutput {
	return o.ApplyT(func(v *ProtectionPolicy) ProtectionPolicySelfManagementOutput { return v.SelfManagement }).(ProtectionPolicySelfManagementOutput)
}

// Indicates whether the IAM users perform verification by themselves.
func (o ProtectionPolicyOutput) SelfVerification() pulumi.BoolOutput {
	return o.ApplyT(func(v *ProtectionPolicy) pulumi.BoolOutput { return v.SelfVerification }).(pulumi.BoolOutput)
}

// Specifies the email address used for verification. An example value is `example@email.com`.
func (o ProtectionPolicyOutput) VerificationEmail() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *ProtectionPolicy) pulumi.StringPtrOutput { return v.VerificationEmail }).(pulumi.StringPtrOutput)
}

// Specifies the mobile number used for verification. An example value is *0086-123456789*.
func (o ProtectionPolicyOutput) VerificationMobile() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *ProtectionPolicy) pulumi.StringPtrOutput { return v.VerificationMobile }).(pulumi.StringPtrOutput)
}

type ProtectionPolicyArrayOutput struct{ *pulumi.OutputState }

func (ProtectionPolicyArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ProtectionPolicy)(nil)).Elem()
}

func (o ProtectionPolicyArrayOutput) ToProtectionPolicyArrayOutput() ProtectionPolicyArrayOutput {
	return o
}

func (o ProtectionPolicyArrayOutput) ToProtectionPolicyArrayOutputWithContext(ctx context.Context) ProtectionPolicyArrayOutput {
	return o
}

func (o ProtectionPolicyArrayOutput) Index(i pulumi.IntInput) ProtectionPolicyOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *ProtectionPolicy {
		return vs[0].([]*ProtectionPolicy)[vs[1].(int)]
	}).(ProtectionPolicyOutput)
}

type ProtectionPolicyMapOutput struct{ *pulumi.OutputState }

func (ProtectionPolicyMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ProtectionPolicy)(nil)).Elem()
}

func (o ProtectionPolicyMapOutput) ToProtectionPolicyMapOutput() ProtectionPolicyMapOutput {
	return o
}

func (o ProtectionPolicyMapOutput) ToProtectionPolicyMapOutputWithContext(ctx context.Context) ProtectionPolicyMapOutput {
	return o
}

func (o ProtectionPolicyMapOutput) MapIndex(k pulumi.StringInput) ProtectionPolicyOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *ProtectionPolicy {
		return vs[0].(map[string]*ProtectionPolicy)[vs[1].(string)]
	}).(ProtectionPolicyOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*ProtectionPolicyInput)(nil)).Elem(), &ProtectionPolicy{})
	pulumi.RegisterInputType(reflect.TypeOf((*ProtectionPolicyArrayInput)(nil)).Elem(), ProtectionPolicyArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*ProtectionPolicyMapInput)(nil)).Elem(), ProtectionPolicyMap{})
	pulumi.RegisterOutputType(ProtectionPolicyOutput{})
	pulumi.RegisterOutputType(ProtectionPolicyArrayOutput{})
	pulumi.RegisterOutputType(ProtectionPolicyMapOutput{})
}
